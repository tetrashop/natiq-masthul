/**
 * Ù¾Ø§ÛŒÚ¯Ø§Ù‡ Ø¯Ø§Ù†Ø´ ØªØ®ØµØµÛŒ Ø¨Ø±Ø§ÛŒ Ù…ÙØ§Ù‡ÛŒÙ… Ø§Ù†Ø³Ø§Ù†ÛŒØŒ Ø§Ø®Ù„Ø§Ù‚ÛŒ Ùˆ Ø²Ù†Ø¯Ú¯ÛŒ
 */

class HumanKnowledgeBase {
    constructor() {
        this.humanDomains = new Map();
        this.initHumanDomains();
    }

    initHumanDomains() {
        // Ø­ÙˆØ²Ù‡: Ù…ÙˆÙÙ‚ÛŒØª Ùˆ Ø±Ø´Ø¯ Ø´Ø®ØµÛŒ
        this.addHumanDomain('personal_growth', {
            name: 'Ø±Ø´Ø¯ Ø´Ø®ØµÛŒ Ùˆ Ù…ÙˆÙÙ‚ÛŒØª',
            concepts: [
                'Ù…ÙˆÙÙ‚ÛŒØª', 'Ù‡Ø¯Ùâ€ŒÚ¯Ø°Ø§Ø±ÛŒ', 'Ø§Ù†Ú¯ÛŒØ²Ù‡', 'Ù¾Ø´ØªÚ©Ø§Ø±', 'Ù†Ø¸Ù…', 'Ù…Ø¯ÛŒØ±ÛŒØª Ø²Ù…Ø§Ù†',
                'Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨Ù‡ Ù†ÙØ³', 'Ø®Ù„Ø§Ù‚ÛŒØª', 'ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ù…Ø³ØªÙ…Ø±', 'ØªÙÚ©Ø± Ù…Ø«Ø¨Øª',
                'ØªØ­ÙˆÙ„ Ø´Ø®ØµÛŒ', 'Ø±Ø´Ø¯ Ù…Ù‡Ø§Ø±Øª', 'Ú†Ø§Ù„Ø´â€ŒÙ¾Ø°ÛŒØ±ÛŒ', 'Ø§Ù†Ø¹Ø·Ø§Ùâ€ŒÙ¾Ø°ÛŒØ±ÛŒ'
            ],
            principles: [
                'Ù…ÙˆÙÙ‚ÛŒØª Ø³ÙØ± Ø§Ø³Øª Ù†Ù‡ Ù…Ù‚ØµØ¯',
                'Ù‡Ø± Ø´Ú©Ø³Øª Ù¾Ù„ÛŒ Ø§Ø³Øª Ø¨Ù‡ Ø³ÙˆÛŒ Ù…ÙˆÙÙ‚ÛŒØª',
                'Ù†Ø¸Ù… Ú©Ù„ÛŒØ¯ Ø¯Ø³ØªÛŒØ§Ø¨ÛŒ Ø¨Ù‡ Ù‡Ù…Ù‡ Ø§Ù‡Ø¯Ø§Ù Ø§Ø³Øª',
                'Ø®ÙˆØ¯Ø´Ù†Ø§Ø³ÛŒ Ø§Ø³Ø§Ø³ Ø±Ø´Ø¯ Ø´Ø®ØµÛŒ Ø§Ø³Øª'
            ],
            emotionalTriggers: ['Ù…ÙˆÙÙ‚', 'Ù¾ÛŒØ´Ø±ÙØª', 'ØªØºÛŒÛŒØ±', 'Ø±Ø´Ø¯']
        });

        // Ø­ÙˆØ²Ù‡: Ø±ÙˆØ§Ø¨Ø· Ø¨ÛŒÙ†â€ŒÙØ±Ø¯ÛŒ
        this.addHumanDomain('interpersonal_relationships', {
            name: 'Ø±ÙˆØ§Ø¨Ø· Ø¨ÛŒÙ†â€ŒÙØ±Ø¯ÛŒ',
            concepts: [
                'Ù‡Ù…Ø¯Ù„ÛŒ', 'Ú¯ÙˆØ´ Ø¯Ø§Ø¯Ù† ÙØ¹Ø§Ù„', 'Ø§Ø­ØªØ±Ø§Ù… Ù…ØªÙ‚Ø§Ø¨Ù„', 'Ø§Ø¹ØªÙ…Ø§Ø¯', 'ØµØ¨Ø±',
                'Ø¨Ø®Ø´Ø´', 'ÙˆÙØ§Ø¯Ø§Ø±ÛŒ', 'ØµØ¯Ø§Ù‚Øª', 'ØªØ¹Ø§Ù…Ù„ Ø³Ø§Ø²Ù†Ø¯Ù‡', 'Ø­Ù„ ØªØ¹Ø§Ø±Ø¶',
                'Ù…Ø±Ø²Ù‡Ø§ÛŒ Ø³Ø§Ù„Ù…', 'Ø­Ù…Ø§ÛŒØª Ø¹Ø§Ø·ÙÛŒ', 'Ù‚Ø¯Ø±Ø¯Ø§Ù†ÛŒ', 'ØªÙˆØ§Ø¶Ø¹'
            ],
            principles: [
                'Ø§Ø­ØªØ±Ø§Ù… Ù¾Ø§ÛŒÙ‡â€ŒØ§ÛŒ Ù‡Ø± Ø±Ø§Ø¨Ø·Ù‡ Ø³Ø§Ù„Ù… Ø§Ø³Øª',
                'Ú¯ÙˆØ´ Ø¯Ø§Ø¯Ù† Ù…Ù‡Ù…â€ŒØªØ± Ø§Ø² ØµØ­Ø¨Øª Ú©Ø±Ø¯Ù† Ø§Ø³Øª',
                'Ø¨Ø®Ø´Ø´ Ø¨Ø§Ø¹Ø« Ø³Ø¨Ú©ÛŒ Ø±ÙˆØ­ Ù…ÛŒâ€ŒØ´ÙˆØ¯',
                'Ø±ÙˆØ§Ø¨Ø· Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù…Ø±Ø§Ù‚Ø¨Øª Ù…Ø³ØªÙ…Ø± Ø¯Ø§Ø±Ù†Ø¯'
            ],
            emotionalTriggers: ['Ø±Ø§Ø¨Ø·Ù‡', 'Ù‡Ù…Ú©Ø§Ø±', 'Ø¯ÙˆØ³Øª', 'Ø®Ø§Ù†ÙˆØ§Ø¯Ù‡', 'Ø¨Ø®Ø´Ø´']
        });

        // Ø­ÙˆØ²Ù‡: Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø­Ø³Ø§Ø³Ø§Øª
        this.addHumanDomain('emotional_management', {
            name: 'Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø­Ø³Ø§Ø³Ø§Øª',
            concepts: [
                'Ø®ÙˆØ¯Ø¢Ú¯Ø§Ù‡ÛŒ Ù‡ÛŒØ¬Ø§Ù†ÛŒ', 'Ú©Ù†ØªØ±Ù„ Ø®Ø´Ù…', 'Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø³ØªØ±Ø³', 'Ù…Ù‚Ø§Ø¨Ù„Ù‡ Ø¨Ø§ Ø§Ø¶Ø·Ø±Ø§Ø¨',
                'ØªØ§Ø¨â€ŒØ¢ÙˆØ±ÛŒ', 'Ø®ÙˆØ´Ø¨ÛŒÙ†ÛŒ', 'Ø¢Ø±Ø§Ù…Ø´ Ø¯Ø±ÙˆÙ†ÛŒ', 'Ù…Ø¯ÛŒØªÛŒØ´Ù†', 'ØªÙÚ©Ø± Ø§Ù†ØªÙ‚Ø§Ø¯ÛŒ',
                'Ù¾Ø°ÛŒØ±Ø´', 'Ø´Ú©ÛŒØ¨Ø§ÛŒÛŒ', 'Ø§Ù…ÛŒØ¯ÙˆØ§Ø±ÛŒ', 'Ù‚Ø¯Ø±Ø¯Ø§Ù†ÛŒ'
            ],
            principles: [
                'Ø§Ø­Ø³Ø§Ø³Ø§Øª Ù…Ø§ ÙˆØ§Ù‚Ø¹ÛŒ Ù‡Ø³ØªÙ†Ø¯ Ø§Ù…Ø§ Ù‡Ù…ÛŒØ´Ù‡ Ø¯Ø±Ø³Øª Ù†ÛŒØ³ØªÙ†Ø¯',
                'Ù¾Ø°ÛŒØ±Ø´ Ø§ÙˆÙ„ÛŒÙ† Ù‚Ø¯Ù… Ø¯Ø± Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø­Ø³Ø§Ø³Ø§Øª Ø§Ø³Øª',
                'Ù‡Ø± Ø§Ø­Ø³Ø§Ø³ÛŒ Ù¾ÛŒØ§Ù…ÛŒ Ø¯Ø§Ø±Ø¯ Ú©Ù‡ Ø¨Ø§ÛŒØ¯ Ø´Ù†ÛŒØ¯Ù‡ Ø´ÙˆØ¯',
                'Ø¢Ø±Ø§Ù…Ø´ Ø¯Ø±ÙˆÙ†ÛŒ Ù‚Ø§Ø¨Ù„ Ù¾Ø±ÙˆØ±Ø´ Ø§Ø³Øª'
            ],
            emotionalTriggers: ['Ø§Ø­Ø³Ø§Ø³', 'Ø§Ø³ØªØ±Ø³', 'Ù†Ú¯Ø±Ø§Ù†ÛŒ', 'Ø¢Ø±Ø§Ù…Ø´']
        });

        // Ø­ÙˆØ²Ù‡: Ù…Ø¹Ù†ÙˆÛŒØª Ùˆ Ø§Ø®Ù„Ø§Ù‚
        this.addHumanDomain('spirituality_ethics', {
            name: 'Ù…Ø¹Ù†ÙˆÛŒØª Ùˆ Ø§Ø®Ù„Ø§Ù‚',
            concepts: [
                'ØªÙ‚ÙˆØ§', 'Ø¨Ø®Ø´Ø´', 'Ø´Ú©Ø±Ú¯Ø²Ø§Ø±ÛŒ', 'ØªÙˆÚ©Ù„', 'ØµØ¨Ø±', 'Ø§ÛŒØ«Ø§Ø±',
                'Ù†ÛŒØª Ø®Ø§Ù„Øµ', 'Ø®Ø¯Ù…Øª Ø¨Ù‡ Ø¯ÛŒÚ¯Ø±Ø§Ù†', 'ØµØ¯Ø§Ù‚Øª', 'Ø¹Ø¯Ø§Ù„Øª',
                'Ù…Ù‡Ø±Ø¨Ø§Ù†ÛŒ', 'ÙØ±ÙˆØªÙ†ÛŒ', 'Ú¯Ø°Ø´Øª', 'Ø§Ù…ÛŒØ¯'
            ],
            principles: [
                'ØªÙ‚ÙˆØ§ Ø³Ù¾Ø± Ø¯Ø± Ø¨Ø±Ø§Ø¨Ø± Ù…Ø´Ú©Ù„Ø§Øª Ø²Ù†Ø¯Ú¯ÛŒ Ø§Ø³Øª',
                'Ø¨Ø®Ø´Ø´ Ø¨Ø§Ø¹Ø« Ø¢Ø²Ø§Ø¯ÛŒ Ø±ÙˆØ­ Ù…ÛŒâ€ŒØ´ÙˆØ¯',
                'Ø´Ú©Ø±Ú¯Ø²Ø§Ø±ÛŒ Ø¯Ø±ÙˆØ§Ø²Ù‡ Ø¨Ø±Ú©Øª Ø§Ø³Øª',
                'Ù†ÛŒØª Ø®Ø§Ù„Øµ Ø§Ø³Ø§Ø³ Ù‡Ø± Ø¹Ù…Ù„ Ù†ÛŒÚ© Ø§Ø³Øª'
            ],
            emotionalTriggers: ['Ù…Ø¹Ù†ÙˆÛŒØª', 'Ø§Ø®Ù„Ø§Ù‚', 'Ø¨Ø®Ø´Ø´', 'ØªÙ‚ÙˆØ§']
        });

        // Ø­ÙˆØ²Ù‡: ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ Ùˆ Ø­Ù„ Ù…Ø³Ø¦Ù„Ù‡
        this.addHumanDomain('decision_making', {
            name: 'ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ Ùˆ Ø­Ù„ Ù…Ø³Ø¦Ù„Ù‡',
            concepts: [
                'ØªÙÚ©Ø± Ø³ÛŒØ³ØªÙ…ÛŒ', 'ØªØ­Ù„ÛŒÙ„ Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§', 'Ù…Ø´ÙˆØ±Øª', 'Ø´Ù‡Ø§Ù…Øª', 'Ù…Ø³Ø¦ÙˆÙ„ÛŒØªâ€ŒÙ¾Ø°ÛŒØ±ÛŒ',
                'Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒØ±ÛŒØ²ÛŒ', 'Ø§ÙˆÙ„ÙˆÛŒØªâ€ŒØ¨Ù†Ø¯ÛŒ', 'Ø§Ø±Ø²ÛŒØ§Ø¨ÛŒ Ø±ÛŒØ³Ú©', 'ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ø§Ø² ØªØ¬Ø±Ø¨ÛŒØ§Øª',
                'Ø§Ù†Ø¹Ø·Ø§Ù Ø¯Ø± Ø§Ø¬Ø±Ø§', 'Ø«Ø¨Ø§Øª Ø¯Ø± Ø§Ù‡Ø¯Ø§Ù', 'ØªØ­Ù„ÛŒÙ„ Ù‡Ø²ÛŒÙ†Ù‡-ÙØ§ÛŒØ¯Ù‡'
            ],
            principles: [
                'Ù…Ø´ÙˆØ±Øª Ù†ÙˆØ± Ø¨ØµÛŒØ±Øª Ø±Ø§ Ø§ÙØ²Ø§ÛŒØ´ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯',
                'Ù‡Ø± ØªØµÙ…ÛŒÙ…ÛŒ consequences Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø§Ø±Ø¯',
                'Ø´Ù‡Ø§Ù…Øª Ø¹Ù…Ù„ Ú©Ø±Ø¯Ù† Ø§Ø² Ø¯Ø§Ù†Ø³ØªÙ† Ù…Ù‡Ù…â€ŒØªØ± Ø§Ø³Øª',
                'ØªØ¬Ø±Ø¨ÛŒØ§Øª Ø¨Ù‡ØªØ±ÛŒÙ† Ù…Ø¹Ù„Ù… Ù‡Ø³ØªÙ†Ø¯'
            ],
            emotionalTriggers: ['ØªØµÙ…ÛŒÙ…', 'Ù…Ø´Ú©Ù„', 'Ø±Ø§Ù‡â€ŒØ­Ù„', 'Ø§Ù†ØªØ®Ø§Ø¨']
        });
    }

    addHumanDomain(domainId, domainData) {
        this.humanDomains.set(domainId, {
            ...domainData,
            usageCount: 0,
            lastUsed: Date.now()
        });
    }

    // ÛŒØ§ÙØªÙ† Ø­ÙˆØ²Ù‡â€ŒÙ‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø· Ø¨Ø§ Ø³ÙˆØ§Ù„
    findRelevantHumanDomains(question) {
        const relevantDomains = [];
        const questionWords = question.toLowerCase().split(' ');

        for (const [domainId, domainData] of this.humanDomains) {
            let relevanceScore = 0;

            // ØªØ·Ø§Ø¨Ù‚ Ø¨Ø§ Ù…ÙØ§Ù‡ÛŒÙ…
            domainData.concepts.forEach(concept => {
                if (question.includes(concept)) {
                    relevanceScore += 2;
                }
            });

            // ØªØ·Ø§Ø¨Ù‚ Ø¨Ø§ triggers Ø§Ø­Ø³Ø§Ø³ÛŒ
            domainData.emotionalTriggers.forEach(trigger => {
                if (question.includes(trigger)) {
                    relevanceScore += 1.5;
                }
            });

            // ØªØ·Ø§Ø¨Ù‚ Ø¨Ø§ Ú©Ù„Ù…Ø§Øª Ø³ÙˆØ§Ù„
            questionWords.forEach(word => {
                if (domainData.concepts.some(concept => concept.includes(word))) {
                    relevanceScore += 0.5;
                }
            });

            if (relevanceScore > 0) {
                relevantDomains.push({
                    domainId,
                    domainName: domainData.name,
                    relevanceScore,
                    concepts: domainData.concepts,
                    principles: domainData.principles
                });

                // Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ø¢Ù…Ø§Ø± Ø§Ø³ØªÙØ§Ø¯Ù‡
                domainData.usageCount++;
                domainData.lastUsed = Date.now();
            }
        }

        // Ù…Ø±ØªØ¨â€ŒØ³Ø§Ø²ÛŒ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø§Ù…ØªÛŒØ§Ø² Ø§Ø±ØªØ¨Ø§Ø·
        return relevantDomains.sort((a, b) => b.relevanceScore - a.relevanceScore);
    }

    // ØªÙˆÙ„ÛŒØ¯ Ù¾Ø§Ø³Ø® Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± Ø¯Ø§Ù†Ø´ Ø§Ù†Ø³Ø§Ù†ÛŒ
    generateHumanCenteredResponse(question, relevantDomains) {
        if (relevantDomains.length === 0) {
            return this.getDefaultCompassionateResponse(question);
        }

        let response = "";
        const primaryDomain = relevantDomains[0];

        // Ù…Ù‚Ø¯Ù…Ù‡ Ù…Ø¨ØªÙ†ÛŒ Ø¨Ø± Ø­ÙˆØ²Ù‡ Ø§ØµÙ„ÛŒ
        response += this.generateDomainIntroduction(primaryDomain, question);

        // Ø§ÙØ²ÙˆØ¯Ù† Ø§ØµÙˆÙ„ Ù…Ø±ØªØ¨Ø·
        response += this.injectRelevantPrinciples(primaryDomain);

        // Ø§ÙØ²ÙˆØ¯Ù† Ù…ÙØ§Ù‡ÛŒÙ… Ú©Ø§Ø±Ø¨Ø±Ø¯ÛŒ
        response += this.provideActionableInsights(primaryDomain, question);

        return response;
    }

    generateDomainIntroduction(domain, question) {
        const introductions = {
            'personal_growth': `Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ø³ÙˆØ§Ù„ Ø´Ù…Ø§ Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…ÙˆÙÙ‚ÛŒØª Ùˆ Ø±Ø´Ø¯ Ø´Ø®ØµÛŒØŒ `,
            'interpersonal_relationships': `Ø¯Ø± Ù…ÙˆØ±Ø¯ Ú†Ø§Ù„Ø´â€ŒÙ‡Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø·ÛŒ Ú©Ù‡ Ù…Ø·Ø±Ø­ Ú©Ø±Ø¯ÛŒØ¯ØŒ `,
            'emotional_management': `Ø¨Ø§ Ø¯Ø±Ú© Ø§Ø­Ø³Ø§Ø³Ø§ØªÛŒ Ú©Ù‡ Ø¨ÛŒØ§Ù† Ú©Ø±Ø¯ÛŒØ¯ØŒ `,
            'spirituality_ethics': `Ø§Ø² Ù…Ù†Ø¸Ø± Ø§Ø®Ù„Ø§Ù‚ÛŒ Ùˆ Ù…Ø¹Ù†ÙˆÛŒØŒ `,
            'decision_making': `Ø¯Ø± Ù…ÙˆØ±Ø¯ ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ Ú©Ù‡ Ø¨Ø§ Ø¢Ù† Ù…ÙˆØ§Ø¬Ù‡ Ù‡Ø³ØªÛŒØ¯ØŒ `
        };

        return introductions[domain.domainId] || 'Ø¨Ø§ ØªÙˆØ¬Ù‡ Ø¨Ù‡ Ù¾Ø±Ø³Ø´ Ø´Ù…Ø§ØŒ ';
    }

    injectRelevantPrinciples(domain) {
        if (domain.principles.length === 0) return '';

        const selectedPrinciples = domain.principles.slice(0, 2);
        let principlesText = '\n\nðŸ’¡ **Ø§ØµÙˆÙ„ Ø±Ø§Ù‡Ù†Ù…Ø§:**\n';
        
        selectedPrinciples.forEach((principle, index) => {
            principlesText += `${index + 1}. ${principle}\n`;
        });

        return principlesText;
    }

    provideActionableInsights(domain, question) {
        const insights = {
            'personal_growth': `
            
ðŸŽ¯ **Ø±Ø§Ù‡Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø¹Ù…Ù„ÛŒ:**
â€¢ Ù‡Ø¯Ùâ€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ùˆ Ù‚Ø§Ø¨Ù„ Ø§Ù†Ø¯Ø§Ø²Ù‡â€ŒÚ¯ÛŒØ±ÛŒ ØªØ¹ÛŒÛŒÙ† Ú©Ù†ÛŒØ¯
â€¢ Ù‡Ø± Ø±ÙˆØ² Ø²Ù…Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ ÛŒØ§Ø¯Ú¯ÛŒØ±ÛŒ Ù…Ù‡Ø§Ø±Øª Ø¬Ø¯ÛŒØ¯ Ø§Ø®ØªØµØ§Øµ Ø¯Ù‡ÛŒØ¯
â€¢ Ù…ÙˆÙÙ‚ÛŒØªâ€ŒÙ‡Ø§ÛŒ Ú©ÙˆÚ†Ú© Ø®ÙˆØ¯ Ø±Ø§ Ø¬Ø´Ù† Ø¨Ú¯ÛŒØ±ÛŒØ¯
â€¢ Ø¨Ø§ Ø§ÙØ±Ø§Ø¯ Ù…ÙˆÙÙ‚ Ùˆ Ø§Ù„Ù‡Ø§Ù…â€ŒØ¨Ø®Ø´ Ù…Ø¹Ø§Ø´Ø±Øª Ú©Ù†ÛŒØ¯`,

            'interpersonal_relationships': `
            
ðŸ¤ **Ø±Ø§Ù‡Ú©Ø§Ø±Ù‡Ø§ÛŒ Ø§Ø±ØªØ¨Ø§Ø·ÛŒ:**
â€¢ Ø§Ø¨ØªØ¯Ø§ Ø¨Ø§ Ø¯Ù‚Øª Ú¯ÙˆØ´ Ø¯Ù‡ÛŒØ¯ØŒ Ø³Ù¾Ø³ Ù¾Ø§Ø³Ø® Ø¯Ù‡ÛŒØ¯
â€¢ Ø§Ø­Ø³Ø§Ø³Ø§Øª Ø·Ø±Ù Ù…Ù‚Ø§Ø¨Ù„ Ø±Ø§ ØªØ§ÛŒÛŒØ¯ Ùˆ Ø¯Ø±Ú© Ú©Ù†ÛŒØ¯
â€¢ Ø§Ø² Ø²Ø¨Ø§Ù† "Ù…Ù†" Ø§Ø³ØªÙØ§Ø¯Ù‡ Ú©Ù†ÛŒØ¯ Ù†Ù‡ "ØªÙˆ"
â€¢ Ù…Ø±Ø²Ù‡Ø§ÛŒ Ø³Ø§Ù„Ù… Ùˆ Ù…Ø­ØªØ±Ù…Ø§Ù†Ù‡ ØªØ¹ÛŒÛŒÙ† Ú©Ù†ÛŒØ¯`,

            'emotional_management': `
            
ðŸŒŠ **Ø±Ø§Ù‡Ú©Ø§Ø±Ù‡Ø§ÛŒ Ù…Ø¯ÛŒØ±ÛŒØª Ø§Ø­Ø³Ø§Ø³Ø§Øª:**
â€¢ Ø§Ø­Ø³Ø§Ø³ Ø®ÙˆØ¯ Ø±Ø§ Ù†Ø§Ù… Ø¨Ø¨Ø±ÛŒØ¯ Ùˆ Ø¨Ù¾Ø°ÛŒØ±ÛŒØ¯
â€¢ Ù†ÙØ³ Ø¹Ù…ÛŒÙ‚ Ùˆ ØªÙ…Ø±ÛŒÙ† Ø¢Ø±Ø§Ù…Ø´ Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒØ¯
â€¢ Ø§Ø² ØªÙÚ©Ø± Ø³ÛŒØ§Ù‡ Ùˆ Ø³ÙÛŒØ¯ Ù¾Ø±Ù‡ÛŒØ² Ú©Ù†ÛŒØ¯
â€¢ Ø¨Ø§ Ø®ÙˆØ¯ Ù…Ù‡Ø±Ø¨Ø§Ù† Ø¨Ø§Ø´ÛŒØ¯`,

            'spirituality_ethics': `
            
ðŸ•‹ **Ø±Ø§Ù‡Ú©Ø§Ø±Ù‡Ø§ÛŒ Ù…Ø¹Ù†ÙˆÛŒ:**
â€¢ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø¨Ø±Ø§ÛŒ ØªÙÚ©Ø± Ùˆ meditation Ø§Ø®ØªØµØ§Øµ Ø¯Ù‡ÛŒØ¯
â€¢ Ø¯Ø± Ú©Ø§Ø±Ù‡Ø§ Ù†ÛŒØª Ø®Ø§Ù„Øµ Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØ¯
â€¢ Ø´Ú©Ø±Ú¯Ø²Ø§Ø±ÛŒ Ø±ÙˆØ²Ø§Ù†Ù‡ Ø±Ø§ ÙØ±Ø§Ù…ÙˆØ´ Ù†Ú©Ù†ÛŒØ¯
â€¢ Ø®Ø¯Ù…Øª Ø¨Ù‡ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø±Ø§ Ø¯Ø± Ø¨Ø±Ù†Ø§Ù…Ù‡ Ø®ÙˆØ¯ Ø¨Ú¯Ù†Ø¬Ø§Ù†ÛŒØ¯`,

            'decision_making': `
            
ðŸŽ² **Ø±Ø§Ù‡Ú©Ø§Ø±Ù‡Ø§ÛŒ ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒ:**
â€¢ ÙÙ‡Ø±Ø³ØªÛŒ Ø§Ø² Ú¯Ø²ÛŒÙ†Ù‡â€ŒÙ‡Ø§ Ùˆ consequences Ø¢Ù†Ù‡Ø§ ØªÙ‡ÛŒÙ‡ Ú©Ù†ÛŒØ¯
â€¢ Ø¨Ø§ Ø§ÙØ±Ø§Ø¯ Ø¨Ø§ØªØ¬Ø±Ø¨Ù‡ Ù…Ø´ÙˆØ±Øª Ú©Ù†ÛŒØ¯
â€¢ Ø¨Ù‡ Ù†Ø¯Ø§ÛŒ ÙˆØ¬Ø¯Ø§Ù† Ø®ÙˆØ¯ Ú¯ÙˆØ´ Ø¯Ù‡ÛŒØ¯
â€¢ Ù¾Ø³ Ø§Ø² ØªØµÙ…ÛŒÙ…â€ŒÚ¯ÛŒØ±ÛŒØŒ Ø¨Ø§ Ø§Ø¹ØªÙ…Ø§Ø¯ Ø¨Ù‡ Ù†ÙØ³ Ø¹Ù…Ù„ Ú©Ù†ÛŒØ¯`
        };

        return insights[domain.domainId] || '';
    }

    getDefaultCompassionateResponse(question) {
        return `Ø³ÙˆØ§Ù„ Ø¹Ù…ÛŒÙ‚ Ùˆ Ø§Ø±Ø²Ø´Ù…Ù†Ø¯ÛŒ Ù…Ø·Ø±Ø­ Ú©Ø±Ø¯ÛŒØ¯. Ø§Ú¯Ø±Ú†Ù‡ Ù¾Ø§Ø³Ø® Ø¯Ù‚ÛŒÙ‚ Ø§ÛŒÙ† Ù¾Ø±Ø³Ø´ Ø®Ø§Øµ Ø±Ø§ Ø¯Ø± Ø¯Ø§Ù†Ø´ ÙØ¹Ù„ÛŒ Ø®ÙˆØ¯ Ù†Ø¯Ø§Ø±Ù…ØŒ 
Ø§Ù…Ø§ Ø¹Ù…ÛŒÙ‚Ø§Ù‹ Ø¨Ù‡ Ø§Ù‡Ù…ÛŒØª Ù…ÙˆØ¶ÙˆØ¹ ÙˆØ§Ù‚ÙÙ…. Ú¯Ø§Ù‡ÛŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ù¾Ø§Ø³Ø®ØŒ Ù‡Ù…Ø±Ø§Ù‡ÛŒ ØµØ§Ø¯Ù‚Ø§Ù†Ù‡ Ø¯Ø± Ù…Ø³ÛŒØ± ÛŒØ§ÙØªÙ† Ù¾Ø§Ø³Ø® Ø§Ø³Øª.

Ù¾ÛŒØ´Ù†Ù‡Ø§Ø¯ Ù…ÛŒâ€ŒÚ©Ù†Ù…:
â€¢ Ø¨Ø§ Ø§ÙØ±Ø§Ø¯ Ø¨Ø§ØªØ¬Ø±Ø¨Ù‡ Ø¯Ø± Ø§ÛŒÙ† Ø²Ù…ÛŒÙ†Ù‡ Ù…Ø´ÙˆØ±Øª Ú©Ù†ÛŒØ¯
â€¢ Ú©ØªØ§Ø¨â€ŒÙ‡Ø§ÛŒ Ù…Ø±ØªØ¨Ø· Ø¨Ø§ Ù…ÙˆØ¶ÙˆØ¹ Ø±Ø§ Ù…Ø·Ø§Ù„Ø¹Ù‡ Ú©Ù†ÛŒØ¯
â€¢ Ø¨Ù‡ Ù†Ø¯Ø§ÛŒ Ù‚Ù„Ø¨ Ùˆ ÙˆØ¬Ø¯Ø§Ù† Ø®ÙˆØ¯ Ø§Ø¹ØªÙ…Ø§Ø¯ Ú©Ù†ÛŒØ¯

Ù‡Ù…ÙˆØ§Ø±Ù‡ Ø¨Ø±Ø§ÛŒ Ù‡Ù…Ø±Ø§Ù‡ÛŒ Ùˆ support Ø¯Ø± Ø§ÛŒÙ† Ù…Ø³ÛŒØ± Ø¯Ø± Ø®Ø¯Ù…Øª Ø´Ù…Ø§ Ù‡Ø³ØªÙ….`;
    }

    // Ø¯Ø±ÛŒØ§ÙØª Ø¢Ù…Ø§Ø± Ø­ÙˆØ²Ù‡â€ŒÙ‡Ø§ÛŒ Ø§Ù†Ø³Ø§Ù†ÛŒ
    getHumanDomainsStats() {
        const stats = {
            totalDomains: this.humanDomains.size,
            domainsUsage: [],
            mostUsedDomain: null
        };

        let maxUsage = 0;

        for (const [domainId, domainData] of this.humanDomains) {
            stats.domainsUsage.push({
                domain: domainData.name,
                usageCount: domainData.usageCount,
                lastUsed: domainData.lastUsed
            });

            if (domainData.usageCount > maxUsage) {
                maxUsage = domainData.usageCount;
                stats.mostUsedDomain = domainData.name;
            }
        }

        return stats;
    }
}

module.exports = HumanKnowledgeBase;
