/**
 * ูพุงฺฏุงู ุฏุงูุด ูพุดุฑูุชู - ูุทู ูุตุทูุญ v3.0
 * ุงุทูุงุนุงุช ุชุฎุตุต ุฑุงูู ุงุฌูุงู
 */

class EnhancedKnowledge {
    constructor() {
        this.knowledgeBase = {
            // ุชุญุตูุงุช ู ูุฏุงุฑฺฉ
            'ุชุญุตูุงุช': {
                answer: 'ุฑุงูู ุงุฌูุงู ุฏุงุฑุง ูุฏุงุฑฺฉ ุฒุฑ ุงุณุช:\nโข ุฏฺฉุชุฑ ููุด ูุตููุน ุงุฒ ุฏุงูุดฺฏุงู ุตูุนุช ุดุฑู\nโข ฺฉุงุฑุดูุงุณ ุงุฑุดุฏ ูููุฏุณ ูุฑูโุงูุฒุงุฑ ุงุฒ ุฏุงูุดฺฏุงู ุชูุฑุงู\nโข ฺฉุงุฑุดูุงุณ ูููุฏุณ ฺฉุงููพูุชุฑ ุงุฒ ุฏุงูุดฺฏุงู ุนูู ู ุตูุนุช ุงุฑุงู\nโข ฺฏูุงููุงููโูุง ุชุฎุตุต ุฏุฑ ุฒููู AI ู Machine Learning ุงุฒ ูุคุณุณุงุช ูุนุชุจุฑ ุจูโุงูููู',
                confidence: 0.95,
                category: 'ุชุญุตูุงุช'
            },
            
            // ุชุฎุตุตโูุง ูู
            'ุชุฎุตุต': {
                answer: 'ุชุฎุตุตโูุง ุงุตู ุฑุงูู ุงุฌูุงู:\n\n๐ค ููุด ูุตููุน ู ุงุฏฺฏุฑ ูุงุดู:\nโข ุชูุณุนู ูุฏูโูุง ูพุดุฑูุชู NLP\nโข ุณุณุชูโูุง ุชูุตูโฺฏุฑ ููุดููุฏ\nโข ูพุฑุฏุงุฒุด ุฒุจุงู ุทุจุน ูุงุฑุณ\n\n๐ป ุชูุณุนู ูุฑูโุงูุฒุงุฑ:\nโข ูุนูุงุฑ ุณุณุชูโูุง Enterprise\nโข ุชูุณุนู APIโูุง ููุงุณโูพุฐุฑ\nโข ุณุณุชูโูุง Real-time\n\nโ๏ธ ููุงูุฑโูุง ูุฏุฑู:\nโข Cloud Computing\nโข Microservices Architecture\nโข DevOps ู CI/CD',
                confidence: 0.92,
                category: 'ุชุฎุตุต'
            },
            
            // ุณูุงุจู ฺฉุงุฑ
            'ุณูุงุจู ฺฉุงุฑ': {
                answer: 'ุณูุงุจู ฺฉุงุฑ ู ุชุฌุฑุจุงุช ุญุฑููโุง:\n\n๐ข ูุฏุฑ ูู - ุดุฑฺฉุช ููุงูุฑ ุงุทูุงุนุงุช (ฑดฐฐ-ุงฺฉููู)\nโข ุฑุงูุจุฑ ุชู ฒฐ ููุฑู ุชูุณุนู\nโข ุทุฑุงุญ ูุนูุงุฑ ุณุณุชูโูุง Enterprise\nโข ูพุงุฏูโุณุงุฒ ูพุฑูฺูโูุง ฺฉูุงู ูู\n\n๐จโ๐ผ ูุฏุฑ ูพุฑูฺู - ุงุณุชุงุฑุชุงูพ ููุงูุฑ (ฑณนธ-ฑดฐฐ)\nโข ูุฏุฑุช ฑฐ+ ูพุฑูฺู ูุฑูโุงูุฒุงุฑ\nโข ุชูุณุนู ูุญุตููุงุช ูุจุชู ุจุฑ AI\nโข ุฌุฐุจ ุณุฑูุงูโฺฏุฐุงุฑ ุฎุทุฑูพุฐุฑ\n\n๐ฌ ูพฺููุดฺฏุฑ - ูุฑฺฉุฒ ุชุญููุงุช ููุด ูุตููุน (ฑณนถ-ฑณนธ)\nโข ุชุญูู ุฏุฑ ุฒููู ูพุฑุฏุงุฒุด ุฒุจุงู ูุงุฑุณ\nโข ุงูุชุดุงุฑ ฑต ููุงูู ุนูู\nโข ููฺฉุงุฑ ุฏุฑ ูพุฑูฺูโูุง ุจูโุงูููู',
                confidence: 0.90,
                category: 'ุชุฌุฑุจู'
            },
            
            // ุฏุณุชุงูุฑุฏูุง
            'ุฏุณุชุงูุฑุฏ': {
                answer: 'ูููโุชุฑู ุฏุณุชุงูุฑุฏูุง ุญุฑููโุง:\n\n๐ ุฌูุงุฒ ู ุงูุชุฎุงุฑุงุช:\nโข ุฌุงุฒู ุจูุชุฑู ูพฺููุดฺฏุฑ ุฌูุงู ููุด ูุตููุน (ฑดฐฑ)\nโข ุฑุชุจู ุงูู ูุณุงุจูุงุช ูู ุจุฑูุงููโููุณ (ฑณนน)\nโข ูุฎุชุฑุน ุจุฑุชุฑู ุงุณุชุงุฑุชุงูพ ููุงูุฑ (ฑดฐฐ)\n\n๐ ูพุฑูฺูโูุง ุดุงุฎุต:\nโข ุชูุณุนู ุณุณุชู ูพุฑุฏุงุฒุด ุฒุจุงู ูุงุฑุณ ุจุง ุฏูุช นธูช\nโข ูพุงุฏูโุณุงุฒ ูพูุชูุฑู ููุด ูุตููุน ุจุฑุง ฺฉุณุจโูฺฉุงุฑูุง\nโข ุฑุงูโุงูุฏุงุฒ ุงฺฉูุณุณุชู ุชุชุฑุง ุจุง ฑต ูุงฺูู ูุนุงู\n\n๐ฏ ููุขูุฑโูุง:\nโข ุซุจุช ณ ุงุฎุชุฑุงุน ุฏุฑ ุฒููู ูพุฑุฏุงุฒุด ุฒุจุงู\nโข ุชูุณุนู ุงูฺฏูุฑุชูโูุง ุงุฎุชุตุงุต NLP\nโข ุงุฌุงุฏ ูุฑูโูุฑฺฉโูุง ุชูุณุนู ุณุฑุน',
                confidence: 0.88,
                category: 'ุฏุณุชุงูุฑุฏ'
            },
            
            // ุชุญููุงุช
            'ุชุญููุงุช': {
                answer: 'ูุนุงูุชโูุง ุชุญููุงุช ู ุนูู:\n\n๐ ุฒูููโูุง ุชุญููุงุช:\nโข ูพุฑุฏุงุฒุด ุฒุจุงู ุทุจุน ูุงุฑุณ\nโข ุงุฏฺฏุฑ ุนูู ู ุดุจฺฉูโูุง ุนุตุจ\nโข ุณุณุชูโูุง ุชูุตูโฺฏุฑ ููุดููุฏ\nโข ุงูุชุฑูุช ุงุดุงุก ู ููุด ูุตููุน\n\n๐ ุงูุชุดุงุฑุงุช ุนูู:\nโข ฑต ููุงูู ISI ู ฺฉููุฑุงูุณโูุง ุจูโุงูููู\nโข ฒ ูุตู ฺฉุชุงุจ ุฏุฑ ุฒููู ููุด ูุตููุน\nโข ต ููุงูู ฺฉููุฑุงูุณโูุง ูู\n\n๐ฌ ูพุฑูฺูโูุง ุชุญููุงุช:\nโข "ุชูุณุนู ููุชูุฑ ูพุฑุฏุงุฒุด ูุชู ูุงุฑุณ" - ููุฑุฏ ุญูุงุช ูุนุงููุช ุนูู\nโข "ุณุณุชู ููุดููุฏ ุชุญูู ุงุญุณุงุณุงุช" - ููฺฉุงุฑ ุจุง ุตูุนุช\nโข "ูพูุชูุฑู ุงุฏฺฏุฑ ูุงุดู ุจุฑุง ุฏุงุฏูโูุง ุจุฒุฑฺฏ"',
                confidence: 0.91,
                category: 'ุชุญูู'
            },
            
            // ูพุฑูฺูโูุง
            'ูพุฑูฺู': {
                answer: 'ูพุฑูฺูโูุง ุงุฌุฑุง ููู:\n\n๐ ูุทู ูุตุทูุญ (ฑดฐฒ):\nโข ุณุณุชู ููุด ูุตููุน ุญุฑููโุง ุจุฑุง ูพุฑุฏุงุฒุด ุฒุจุงู ูุงุฑุณ\nโข ูุงุจูุช ุฏุฑุขูุฏุฒุง ู ุงุฑุงุฆู ุฎุฏูุงุช Enterprise\nโข ูพุงฺฏุงู ุฏุงูุด ุจุง ฑถถ ูพุณุช ุชุฎุตุต\n\n๐ ุงฺฉูุณุณุชู ุชุชุฑุง (ฑดฐฑ):\nโข ูพูุชูุฑู ุฌุงูุน ูุฏุฑุช ฺฉุณุจโูฺฉุงุฑ\nโข ฑต ูุงฺูู ุชุฎุตุต ูุนุงู\nโข ุณุณุชู ุฏุฑุขูุฏุฒุง ูพุดุฑูุชู\n\n๐ผ ุณุงุฑ ูพุฑูฺูโูุง:\nโข ุณุณุชู ูุฏุฑุช ูุดุชุฑุงู ุณุงุฒูุงู\nโข ูพูุชูุฑู ุชุญูู ุฏุงุฏูโูุง ุจุฒุฑฺฏ\nโข ุงุจุฒุงุฑูุง ุชูุณุนู ูุฑูโุงูุฒุงุฑ',
                confidence: 0.89,
                category: 'ูพุฑูฺู'
            }
        };
    }

    findAnswer(question) {
        const lowerQuestion = question.toLowerCase();
        
        // ุฌุณุชุฌู ููุดููุฏ ุฏุฑ ูพุงฺฏุงู ุฏุงูุด
        for (const [key, knowledge] of Object.entries(this.knowledgeBase)) {
            if (lowerQuestion.includes(key.toLowerCase())) {
                return knowledge;
            }
        }
        
        // ุฌุณุชุฌู ุจุฑ ุงุณุงุณ ฺฉููุงุช ฺฉูุฏ
        const keywords = {
            'ุชุญุตูุงุช': ['ุชุญุตู', 'ูุฏุฑฺฉ', 'ุฏุงูุดฺฏุงู', 'ุขููุฒุด'],
            'ุชุฎุตุต': ['ุชุฎุตุต', 'ููุงุฑุช', 'ุชูุงูุง', 'ุชุฌุฑุจู ูู'],
            'ุณูุงุจู ฺฉุงุฑ': ['ฺฉุงุฑ', 'ุดุบู', 'ุชุฌุฑุจู', 'ุณุงุจูู', 'ุญุฑูู'],
            'ุฏุณุชุงูุฑุฏ': ['ุฏุณุชุงูุฑุฏ', 'ููููุช', 'ุฌุงุฒู', 'ุงูุชุฎุงุฑ'],
            'ุชุญููุงุช': ['ุชุญูู', 'ูพฺููุด', 'ููุงูู', 'ุนูู'],
            'ูพุฑูฺู': ['ูพุฑูฺู', 'ุณุณุชู', 'ูพูุชูุฑู', 'ุชูุณุนู']
        };
        
        for (const [category, words] of Object.entries(keywords)) {
            for (const word of words) {
                if (lowerQuestion.includes(word)) {
                    return this.knowledgeBase[category] || this.getDefaultAnswer(question);
                }
            }
        }
        
        return this.getDefaultAnswer(question);
    }
    
    getDefaultAnswer(question) {
        return {
            answer: `ุณูุงู ุดูุง "${question}" ุฏุฑุงูุช ุดุฏ. ุณุณุชู ูุทู ูุตุทูุญ ุจุง ฑถถ ูพุณุช ุชุฎุตุต ุฏุฑ ุญุงู ูพุฑุฏุงุฒุด ูพุงุณุฎ ุฏูู ุงุณุช. ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ูโุชูุงูุฏ ุณูุงู ุฎูุฏ ุฑุง ุฏููโุชุฑ ูุฑูulุฏ.`,
            confidence: 0.85,
            category: 'ุนููู'
        };
    }
}

module.exports = new EnhancedKnowledge();
